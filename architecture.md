
# 🧠 ADHD-Friendly Gamified Study App Architecture

## 🎯 Core Concept

> An app that supports ADHD students by turning procrastination into structured productivity, guided by urgency-aware task management and gamified rewards — aligned with **Universal Design for Learning (UDL)** principles.

---

## 🧱 Tech Stack

* **Frontend**: [Next.js](https://nextjs.org/) (React-based framework)
* **Backend-as-a-Service**: [Supabase](https://supabase.com/) (PostgreSQL DB + Auth + Edge Functions)
* **Styling**: Tailwind CSS (modular, accessible, ADHD-friendly color contrast)
* **Gamification/Animations**: Framer Motion, React Spring
* **State Management**: Zustand (lightweight, ADHD-friendly — no prop drilling)
* **Notifications / Timers**: React Toastify, native timers via `setInterval`
* **Optional Analytics**: Supabase Edge Functions or PostHog

---

## 🗂️ Folder + File Structure

```
/app
  /components          # Reusable UI components (TaskCard, RewardModal, etc.)
  /features
    /tasks             # Task logic (forms, CRUD, urgencies)
    /rewards           # Gamification features
    /auth              # Auth logic (sign in, sign up)
  /hooks               # Custom hooks (useTasks, useUser)
  /lib                 # Utility functions, Supabase client
  /pages
    /api               # Next.js API routes if needed
    /dashboard.tsx     # Main dashboard after login
    /login.tsx
    /register.tsx
    /index.tsx         # Home / marketing page
  /styles              # Global styles and Tailwind config
  /types               # TypeScript types for tasks, users, etc.
  /state               # Zustand store files

/supabase
  /schema.sql          # Tables for tasks, users, reward points
  /functions           # Edge functions (e.g. daily check-ins, rewards reset)

/public                # Static assets (icons, illustrations, sounds)
/tests                 # Unit + integration tests (Jest/Testing Library)
/README.md

```

---

## 🔄 Core App Flow

1. **User Sign In/Up** → Supabase Auth
2. **Dashboard** shows:

   * Active tasks (color-coded by urgency)
   * Gamified streak + XP level
   * Visual reward system (level up, badges, animations)
3. **Add Task** form:

   * Title
   * Urgency (Low, Medium, High) → time-based decay
   * Notes
4. **Complete Task** → XP granted → `RewardModal` fires
5. **Zoning Mode**:

   * Optional focus timer (e.g. 25 min “fun procrastination” → 5 min real task)
   * Based on *structured procrastination* strategies
6. **Progress**: User levels up, unlocks avatars/sounds/colors

---

## 🧠 Research-Driven Features

Based on [PMC10453933](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC10453933/) and related UDL principles:

| UDL Guideline                           | App Feature                                           |
| --------------------------------------- | ----------------------------------------------------- |
| Provide multiple means of engagement    | Gamified rewards, visual progress, sounds             |
| Support executive functions             | Urgency tagging, goal checklists, reminders           |
| Vary methods of response and navigation | Keyboard shortcuts, tap buttons, voice input (future) |
| Reduce distractions                     | Focus mode with animations muted, dark mode           |

---

## 💾 Database Schema (Supabase)

### `users` (built-in with Supabase Auth)

### `tasks`

| Field       | Type      | Notes                |          |        |
| ----------- | --------- | -------------------- | -------- | ------ |
| id          | uuid      | Primary key          |          |        |
| user\_id    | uuid      | Foreign key to users |          |        |
| title       | text      | Task name            |          |        |
| urgency     | enum      | 'low'                | 'medium' | 'high' |
| notes       | text      | Optional             |          |        |
| due\_date   | timestamp | Optional             |          |        |
| completed   | boolean   | Default false        |          |        |
| created\_at | timestamp | Autogenerated        |          |        |

### `rewards`

| Field         | Type | Notes                 |
| ------------- | ---- | --------------------- |
| user\_id      | uuid | Foreign key           |
| xp\_points    | int  | Earned XP             |
| level         | int  | Calculated from XP    |
| streak        | int  | Daily streak          |
| last\_claimed | date | Used to reset streaks |

---

## 🌐 State Management

Use **Zustand** to manage:

* Logged-in user session
* Task list
* Reward state (xp, level)
* Modal/animation states
* Focus timer state

```ts
// /state/useTaskStore.ts
import create from 'zustand'

export const useTaskStore = create((set) => ({
  tasks: [],
  addTask: (task) => set((state) => ({ tasks: [...state.tasks, task] })),
  completeTask: (id) =>
    set((state) => ({
      tasks: state.tasks.map(t => t.id === id ? { ...t, completed: true } : t),
    })),
}))
```

---

## 🔌 Supabase Connection

```ts
// /lib/supabaseClient.ts
import { createClient } from '@supabase/supabase-js'

export const supabase = createClient(
  process.env.NEXT_PUBLIC_SUPABASE_URL!,
  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!
)
```

---

## 🔔 Reward System (Gamification)

* 🎯 Every completed task = XP (5, 10, 15 based on urgency)
* 🧱 Level = floor(XP / 50)
* 🎁 Modal: `useRewardModal` hook → plays animation, sound
* 🌟 Surprise reward if streak hits certain value
* 🔄 Daily reminder if user didn’t open app (Edge function)

---

## ✅ Deployment

* **Frontend**: Vercel (free hosting, perfect for Next.js)
* **Backend**: Supabase (managed Postgres, no server needed)
* **Env Vars**: Supabase URL + Key stored in `.env.local`

---

## 🔐 Auth Flow

* Sign up / login via Supabase Auth
* Auth state tracked via `useUser` hook from Supabase
* Protect pages using `getServerSideProps` or middleware

---

## 🧪 Testing & QA

* Unit Tests: `jest` + `@testing-library/react`
* Supabase Edge Function tests via `curl` or Postman
* Manual test ADHD-friendly flows (focus mode, reward loop)

---

## 🚀 Future Enhancements

* AI-generated task summaries for focus suggestions
* Voice input (for low-friction task entry)
* Peer rewards or social mode
* Mobile app via Expo + Next.js API routes

